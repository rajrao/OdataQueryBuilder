<!--
    Copyright (c) Microsoft Corporation
    All rights reserved. 
    Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with 
    the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
    INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, 
    MERCHANTABLITY OR NON-INFRINGEMENT. 

    See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
    -->

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>OData Query Builder</title>
    <style type="text/css">
        body
        {
            font-family: "Segoe UI", Helvetica, Verdana;
            padding: 20px;
        }

        #results {
            white-space: pre;    
        }
    </style>
    <link type="text/css" href="Content/odata-query-builder.css" rel="stylesheet" />
    <!-- Third party scripts or code, linked to or referenced from this web site, 
            are licensed to you by the third parties that own such code, not by Microsoft. -->
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.0.min.js"></script>
    <script type="text/javascript" src="Scripts/datajs-1.1.1.min.js"></script>
    <script type="text/javascript" src="Scripts/odata-query-builder.js"></script>
    <script type="text/javascript">
        // Document ready event handler.
        $(document).ready(function () {
            var createdQueryBuilder = new OData.explorer.DataExplorer(
                {
                    // An array containing the different endpoints.
                    endpoints: [
                        {
                            name: 'Northwind',
                            url: 'http://services.odata.org/Northwind/Northwind.svc',
                        },
                        {
                            name: 'OData',
                            url: 'http://odataservices.azurewebsites.net/OData/OData.svc',
                        }
                    ],
                    encodeUrlComponents: true,
                    hideOrderbyFilters: true,
                    hideColumnFilters: false,
                    hideExpandFilters: false,
                    // Overwrite the default onUrlChange callback.
                    onUrlChange: function (url) {
                        console.log(url);
                    },
                    // Overwrite the default onSubmit callback.
                    onSubmit: function (url) {
                        return url;
                    },
                    // Overwrite the default onResults callback.
                    onResults: function (data) {
                        return (JSON.stringify(data, null, 4));
                    },
                    // Overwrite the default onError callback.
                    onError: function (error, url) {
                        console.log(url + '\t' + JSON.stringify(error));
                    }
                });
        });
    </script>
</head>
<body>
    <h1>OData Query Builder</h1>
    <div id="queryBuilderContainer">
    </div>
</body>
</html>